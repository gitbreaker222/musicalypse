<div [class]="themeClass">
  <mat-toolbar class="header">
    <a *ngIf="!sidenav.opened" (click)="sidenav.open()" class="icon"><mat-icon>menu</mat-icon></a>
    <a *ngIf="sidenav.opened" (click)="sidenav.close()" class="icon"><mat-icon>close</mat-icon></a>
    Musicalypse
  </mat-toolbar>

  <mat-sidenav-container>
    <mat-sidenav #sidenav [mode]="'over'">
      <p>
        <a (click)="httpSocketClient.openSocket()">Open Socket</a>
        <mat-icon>radio_button_unchecked</mat-icon>
      </p>
      <p>
        <a (click)="httpSocketClient.closeSocket()">Close Socket</a>
        <mat-icon>radio_button_checked</mat-icon>
      </p>
      <p>
        <a *ngIf="httpSocketClient.isSocketOpen()" (click)="httpSocketClient.send({test: 'test'})">Send test message</a>
        <br>
        <a (click)="scanLibrary()">Request Scan</a>
      </p>
      <p>
        <a (click)="changeTheme('dark-theme')">Dark theme</a>
      </p>
      <p>
        <a (click)="changeTheme('light-theme')">Light theme</a>
      </p>
    </mat-sidenav>

    <div class="container">
      <div class="content">
        <app-audio #audioComponent (onPlayEnd)="onPlayEnded()"></app-audio>
        <div class="playerContainer">
          <div class="a1">
            <app-artists #artistsComponent></app-artists>
          </div>
          <div class="a2">
            <app-albums #albumsComponent [artistsComponent]="artistsComponent"></app-albums>
          </div>
          <div class="a3">
            <app-tracks #tracksComponent [albumsComponent]="albumsComponent" [audioComponent]="audioComponent"></app-tracks>
          </div>
          <div class="a4">
            <app-player #player [audio]="audioComponent"></app-player>
          </div>
        </div>
      </div>
    </div>
  </mat-sidenav-container>
</div>
