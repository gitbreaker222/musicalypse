<div [class]="themeClass">
  <mat-toolbar class="header">
    <a *ngIf="!sidenav.opened" (click)="sidenav.open()" class="icon"><mat-icon>menu</mat-icon></a>
    <a *ngIf="sidenav.opened" (click)="sidenav.close()" class="icon"><mat-icon>close</mat-icon></a>
    Musicalypse
  </mat-toolbar>

  <mat-sidenav-container>
    <mat-sidenav #sidenav [mode]="'over'">
      <mat-list>
        <h3 mat-subheader>Navigation</h3>
        <a mat-list-item>
          About
        </a>
        <mat-divider></mat-divider>
        <h3 mat-subheader>Options</h3>
        <a mat-list-item (click)="scanLibrary()">
          <mat-icon mat-list-icon>sync</mat-icon>
          <span matLine>Scan library</span>
        </a>
        <a mat-list-item
           (click)="httpSocketClient.isSocketOpen() ? httpSocketClient.closeSocket() : httpSocketClient.openSocket()">
          <mat-icon mat-list-icon>{{httpSocketClient.isSocketOpen() ? 'radio_button_checked' : 'radio_button_unchecked'}}</mat-icon>
          <span matLine>Socket {{httpSocketClient.isSocketOpen() ? 'open' : 'closed'}}</span>
        </a>
        <mat-list-item>
          <mat-icon matListIcon>color_lens</mat-icon>
          <mat-form-field matLine floatLabel="never">
            <mat-select placeholder="Theme" #theme (change)="changeTheme(theme.value); sidenav.close()">
              <mat-option value="dark-theme">Dark Theme</mat-option>
              <mat-option value="light-theme">Light Theme</mat-option>
            </mat-select>
          </mat-form-field>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
    </mat-sidenav>

    <div class="container">
      <div class="content">
        <app-audio #audioComponent (onPlayEnd)="onPlayEnded()"></app-audio>
        <div class="playerContainer">
          <div class="column a1">
            <app-artists #artistsComponent></app-artists>
          </div>
          <div class="column a2">
            <app-albums #albumsComponent [artistsComponent]="artistsComponent"></app-albums>
          </div>
          <div class="column a3">
            <app-tracks #tracksComponent [albumsComponent]="albumsComponent" [audioComponent]="audioComponent"></app-tracks>
          </div>
          <div class="column a4">
            <app-player #player [audio]="audioComponent"></app-player>
          </div>
        </div>
      </div>
    </div>
  </mat-sidenav-container>
</div>
